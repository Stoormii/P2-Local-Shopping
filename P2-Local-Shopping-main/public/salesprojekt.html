<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <title>Sales and New Orders</title>
  <link rel="stylesheet" href="css/baggestyle.css">
</head>


<nav class="navbar">
  <ul class="nav-links">
    <li><a href="StoreFrontPage.html" id="home-link">Home</a></li>
    <li><a href="Store-Admin.html" id="product-link">Products</a></li>
    <li><a href="salesprojekt.html" id="neworder-link">New orders</a></li>
    <li><a href="salesprojekt.html" id="stats-link">stats</a></li>
  </ul>
</nav>
<script>
const navLinks = document.querySelectorAll('.nav-links a');


navLinks.forEach(link => {
link.addEventListener('click', () => {
 
  navLinks.forEach(nav => nav.classList.remove('active'));


 
  link.classList.add('active');
});
});</script>


</body>
<body>
  <button id="reserveButton">Reserve</button>


  <h2><center>New Orders</center></h2>




    <section>
     
      <p id="store-id-display">Store ID: </p> <!-- Placeholder for Store_ID -->
       
        <div class="carouselx" id="carouselx">
            <!-- Orders will be dynamically inserted here -->
        </div>
      </section>
 
  <script src="JS/redirect.js" ></script>
  <script src="JS/Orders.js"></script>
  <script>
   async function displayStoreID() {
  try {
    const baseUrl = window.location.origin.includes('localhost') ? '' : '/node9'; // Adjust for localhost vs server
    const response = await fetch(`${baseUrl}/session`); // Fetch session data from the backend
    const data = await response.json();

    if (data.LoggedIn && data.store) {
      const storeIdDisplay = document.getElementById('store-id-display');
      storeIdDisplay.textContent = `Store ID: ${data.store.id}`; // Update the placeholder with the Store_ID
    } else {
      console.error('No store is logged in.');
      document.getElementById('store-id-display').textContent = 'Store ID: Not logged in';
    }
  } catch (error) {
    console.error('Error fetching session data:', error);
    document.getElementById('store-id-display').textContent = 'Store ID: Error fetching data';
  }
}
  
    // Call the function when the page loads
    document.addEventListener('DOMContentLoaded', displayStoreID);
  </script>

 


 
</body>
</html>



